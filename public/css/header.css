/* ============================================ */
/* File: public/css/header.css                 */
/* Version: Bao gồm Custom Search Ví dụ 1     */
/* ============================================ */

/* === Reset cơ bản & Biến màu === */
:root {
  --primary-color: #cc0000; /* Màu đỏ nhấn */
  --text-dark: #333; /* Màu chữ chính */
  --text-light: #555; /* Màu chữ phụ */
  --text-grey: #777; /* Màu chữ xám */
  --text-muted: #aaa; /* Màu chữ rất nhạt */
  --border-color: #eee; /* Màu viền */
  --bg-light: #f8f9fa; /* Màu nền sáng (cho mega menu) */
  --mega-menu-link-color: #555; /* Màu link trong mega menu */
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif; /* Font hệ thống phổ biến */
  line-height: 1.6;
  color: var(--text-dark);
  background-color: #fff; /* Đảm bảo body có nền trắng */
}

img {
  max-width: 100%;
  height: auto;
  display: block; /* Loại bỏ khoảng trắng thừa dưới ảnh */
}

ul {
  list-style: none;
}

a {
  text-decoration: none;
  color: inherit; /* Kế thừa màu từ phần tử cha */
}

button {
  cursor: pointer;
  font-family: inherit;
  font-size: inherit;
  background: none; /* Reset background */
  border: none; /* Reset border */
  padding: 0; /* Reset padding */
}

/* === Header & Nav Cơ bản === */
.site-header {
  position: relative; /* Cho phép định vị tuyệt đối các phần tử con (search, mega menu) */
  background-color: #fff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
  z-index: 1000; /* Đảm bảo header nổi lên trên */
}

.nav-menu {
  max-width: 1200px; /* Giới hạn chiều rộng tối đa */
  margin: 0 auto; /* Căn giữa */
  padding: 0 15px; /* Padding hai bên */
}

.nav-list {
  display: flex;
  align-items: center; /* Căn các mục menu theo chiều dọc */
  justify-content: space-between; /* Phân bổ không gian đều giữa các mục */
}

.nav-item {
  position: relative; /* Cho phép định vị các dropdown/mega menu con */
}

/* Style chung cho các link menu */
.nav-item > a,
.search-toggle-item > button {
  /* Áp dụng padding/height cho cả nút search */
  display: flex;
  align-items: center;
  padding: 1.5rem 1rem; /* Padding trên/dưới và trái/phải */
  color: var(--text-dark);
  font-weight: 500;
  transition: color 0.3s ease;
  white-space: nowrap; /* Ngăn chữ xuống dòng */
  height: 100%; /* Để đảm bảo chiều cao đều nhau */
}

/* Hover state cho link menu */
.nav-item > a:hover,
.nav-item:hover > a {
  /* Hover vào li cũng đổi màu link con */
  color: var(--primary-color);
}

/* Logo */
.logo-item {
} /* Không cần margin-right: auto nữa */

.logo-item a {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
  padding-right: 1rem; /* Giữ padding phải */
  padding-left: 0; /* Bỏ padding trái cho logo */
}

#logoVietNam {
  height: 55px; /* Tăng chiều cao logo */
}

/* === Search Customization (Ví dụ 1) === */

/* Nút để bật/tắt ô tìm kiếm */
.search-toggle-item {
}

.search-toggle-item button {
  /* Style padding/height đã được áp dụng ở trên cùng .nav-item > a */
}

.search-toggle-item img {
  height: 18px; /* Kích thước icon tìm kiếm */
  opacity: 0.7;
  transition: opacity 0.3s ease;
}

.search-toggle-item button:hover img {
  opacity: 1;
}

/* Form tìm kiếm - Phần được custom giao diện */
.search-form {
  /* ---- Định vị & Trạng thái ẩn/hiện (Giữ nguyên logic) ---- */
  position: absolute;
  top: calc(100% + 8px); /* Tăng khoảng cách nhẹ nếu muốn */
  right: 15px;
  z-index: 101;
  display: flex;
  align-items: center;

  /* ---- Giao diện được custom ---- */
  background-color: #f0f0f0;
  border: none;
  border-radius: 25px; /* Bo tròn nhiều */
  padding: 5px 5px 5px 15px;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
  width: 300px;

  /* ---- Transition (Giữ nguyên hoặc chỉnh sửa nếu muốn) ---- */
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px) scale(0.98);
  transition: opacity 0.25s ease, visibility 0s linear 0.25s,
    transform 0.25s ease;
  pointer-events: none;
}

/* Trạng thái ẩn */
.search-form.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px) scale(0.98);
  pointer-events: none;
}

/* Trạng thái hiện */
.search-form:not(.hidden) {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
  transition-delay: 0s;
  pointer-events: auto;
}

/* Ô Input bên trong form */
.search-form input[type="search"] {
  flex-grow: 1;
  background: transparent;
  border: none;
  outline: none;
  padding: 8px 0;
  color: var(--text-dark);
  font-size: 1em;
}

/* Placeholder của ô input */
.search-form input[type="search"]::placeholder {
  color: var(--text-grey);
  opacity: 0.8;
}

/* Nút Submit bên trong form */
.search-form button[type="submit"] {
  background-color: var(--primary-color);
  color: white;
  border: none;
  border-radius: 50%;
  padding: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-left: 8px;
  font-size: 0.9em; /* Cỡ chữ "Tìm" */
  transition: background-color 0.2s ease, transform 0.1s ease;
}

.search-form button[type="submit"]:hover {
  background-color: #a00000;
}

.search-form button[type="submit"]:active {
  transform: scale(0.95);
}

/* === Mega Menu Styling === */
.nav-item.has-mega-menu {
  position: static;
}

.mega-menu-panel {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  width: 100%;
  background-color: var(--bg-light);
  border-top: 1px solid var(--border-color);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  padding: 2.5rem 0;
  z-index: 100;
  opacity: 0;
  visibility: hidden;
  transform: translateY(10px);
  transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
  pointer-events: none;
}

.nav-item.has-mega-menu:hover > .mega-menu-panel {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
}

.mega-menu-container {
  max-width: 1140px;
  margin: 0 auto;
  padding: 0 15px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2.5rem;
}

.mega-menu-column {
}

.mega-menu-image-header {
  margin-bottom: 1rem;
  /* text-align: center; */
  display: flex; /* Sử dụng Flexbox */
  flex-direction: column; /* Xếp các phần tử con theo cột (ảnh trên, chữ dưới) */
  align-items: center; /* Căn giữa các phần tử con theo chiều ngang */
}

.mega-menu-image-header a {
  display: block; /* Cho thẻ a chiếm dòng riêng trong flex column */
  border-radius: 8px;
  overflow: hidden; /* Giữ bo góc khi ảnh zoom */
  width: 100%; /* Cho phép thẻ a co giãn */
  /* Optional: Nếu bạn muốn giới hạn chiều rộng tối đa của ảnh */
  /* max-width: 280px; */
}

.mega-menu-image-header img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: 8px;
  transition: transform 0.3s ease;
}

.mega-menu-image-header a:hover img {
  transform: scale(1.07);
}

.mega-menu-image-header h4 {
  margin: 0.8rem 0 0;
  font-size: 1.1em;
  color: var(--text-dark);
}

.mega-menu-subheading.region-title {
  padding-bottom: 0.5rem;
  margin: 0 0 1rem;
  font-size: 0.9em;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--primary-color);
  border-bottom: 2px solid var(--border-color);
}

.mega-menu-links.region-links {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
}

.mega-menu-links li {
}

.mega-menu-links a {
  color: var(--mega-menu-link-color);
  font-size: 0.95em;
  transition: color 0.2s ease, padding-left 0.2s ease;
  display: block;
  padding: 2px 0;
}

.mega-menu-links a:hover {
  color: var(--primary-color);
  padding-left: 5px;
}

/* === Responsive === */
@media (max-width: 1199px) {
  .nav-menu,
  .mega-menu-container {
    max-width: 960px;
  }
  .nav-item > a,
  .search-toggle-item > button {
    padding: 1.5rem 0.8rem;
  }
  .mega-menu-container {
    gap: 2rem;
  }
  .mega-menu-image-header img {
    height: 140px;
  }
}

@media (max-width: 991px) {
  .nav-menu,
  .mega-menu-container {
    max-width: 720px;
  }
  /* Hamburger menu logic would go here... */
  /* .nav-list { display: none; ... } */
  .mega-menu-panel {
    display: none !important;
  }
}

@media (max-width: 767px) {
  .nav-menu {
    padding: 0 10px;
  }
  #logoVietNam {
    height: 45px;
  }
  /* Hamburger menu logic here... */
  .search-form {
    /* Adjust position or hide completely on small mobile */
    width: calc(100% - 20px); /* Example: Full width minus padding */
    right: 10px;
    top: calc(100% + 5px);
  }
}
